{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href={% static "css/dashboard.css"%}>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    </head>
    <body class=''>
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
        <div class='sidebar'>
            <h1 class='logo'><img src='{% static "img/LOGO.JPG"%}'></h1>
 
            <div class='sidebar-menu'>
                <a href='{% url 'customer:dashboard'%}'><ion-icon name='storefront-outline'></ion-icon>Home</a>
                <a href='{% url 'staff:contact'%}'><ion-icon name='chatbubbles-outline'></ion-icon>Contact Us</a>
                <a href='{% url 'staff:about'%}'><ion-icon name="people-outline"></ion-icon>About Us</a>
                <a href='{% url 'staff:web_settings'%}'><ion-icon name='Settings-outline'></ion-icon>Settings</a>
                <a href='{% url 'staff:account'%}'><ion-icon name='person-outline'></ion-icon>Profile</a>
            </div>
            <div class='sidebar-logout'>
                <a href='{% url 'staff:login'%}'><ion-icon name='log-out-outline'></ion-icon>Logout</a>
            </div>
        </div>
        
        <div class='main'>
            <div class='main-navbar'>
                <ion-icon class='menu-toggle' name='menu-outline'></ion-icon>
                <form action='{% url 'customer:search' %}' method='GET'>
                <div class='search'>
                    
                    <input type='text'name = 'q' placeholder = 'What would you like' required>
                    <button class='search-btn' type='submit'>Search</button>
                    
                </div>
                </form>
            
                <div class='Profile'>
                    
                    <span id ='cart_quantity'><strong>{{cart|length}}</strong></span>
                    <a class='user' href='{% url 'customer:cart_summary' %}'><ion-icon name='cart-outline'></ion-icon></a>
                </div>
            </div>
            
            <div class='main-highlight'>
                
                <div class='main-header'>
                    <h2 class='main-title'>You Are Welcome to the eCOMServer Store</h2>
                </div>
                
                <div class='highlight-wrapper'>
                    <div class='highlight-card'>
                        <img class='highlight-img'scr={% static "img/ELLOW.JPG"%}>
                </div>
            </div>
            
        </div>
        

        <div class='main-menus'>
            <div class='main-filter'>
              <div>
                <h2 class='main-title'style="text-align: center;">Categories</br></h2>
              </div>
              <div class='main-arrow'>
                <ion-icon class='back-menus' name='chevron-back-circle-outline'></ion-icon>
                <ion-icon class='next-menus' name='chevron-forward-circle-outline'></ion-icon>

              </div>
              <div class='filter-wrapper'>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:dashboard" %}'><ion-icon name='storefront-outline'></ion-icon></a>
                        </div>
                        <p>All</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Fashion' %}'><ion-icon name='shirt-outline'></ion-icon></a>
                        </div>
                        <p>Fashion</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Electronics' %}'><ion-icon name='bulb-outline'></ion-icon></a>
                        </div>
                        <p>Electronics</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Bags' %}'><ion-icon name='bag-handle-outline'></ion-icon></a>
                        </div>
                        <p>Bags</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Funiture' %}'><ion-icon name='bed-outline'></ion-icon></a>
                        </div>
                        <p>Funiture</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Phones' %}'><ion-icon name='phone-portrait-outline'></ion-icon></a>
                        </div>
                        <p>Phones</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Headset' %}'><ion-icon name="headset-outline"></ion-icon></a>
                        </div>
                        <p>Headset</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Computing' %}'><ion-icon name="laptop-outline"></ion-icon></a>
                        </div>
                        <p>Computing</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Tvs&Audios' %}'><ion-icon name="tv"></ion-icon></a>
                        </div>
                        <p>Tvs&Audios</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Food' %}'><ion-icon name='fish-outline'></ion-icon></a>
                        </div>
                        <p>Food</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Sports' %}'><ion-icon name='football-outline'></ion-icon></a>
                        </div>
                        <p>Sports</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Games' %}'><ion-icon name='logo-playstation'></ion-icon></a>
                        </div>
                        <p>Games</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Health' %}'><ion-icon name='medkit-outline'></ion-icon></ion-icon></a>
                        </div>
                        <p>Health</p>
                    </div>
                    <div class='filter-card'>
                        <div class='filter-icon'>
                            <a href='{% url "customer:category" 'Stationery' %}'><ion-icon name="book-outline"></ion-icon></a>
                        </div>
                        <p>Stationery</p>
                    </div>
                </div>

                
            </div>
            
        </div>
        <hr class='divider'>

        <div class='main-menus'>
            
            <div>
                <h2 class='main-title'style="text-align: center;">Choose Your Order</br></h2>
              </div>
              <hr class='divider'>

            <div class='detail-wrapper'>
                {% for product in products %}
                <div class='detail-card'>
                    <img class='detail-img' src="{{product.imageURL}}" alt="Product image">
                    <br><br>
                    <div class='detail-desc'>
                        <div class='detail-name'>
                            <h4>{{product.name}}</h4>
                            
                            <p class='price'>shs. {{ product.price}}</p>
                        </div>
                        
                        
                        <a href ='{% url 'customer:product' product.id %}'><button type = 'button' class = 'btn btn-secondary' >View</button></a>                   </div>
                </div>
                {% endfor%}
            </div>

        </div> 
        
            
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>   
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <script type='text/javascript' src={% static 'js/cart.js' %}></script>
        <script src="https://code.jquery.com/jquery-2.2.4.min.js" ></script>
        <script src={% static "js/app.js"%} ></script>
        <script type='text/javascript'>
            $(document).on('click','#add-cart',function(e){
                e.preventDefault();
                $.ajax({
                    type:'POST',
                    url: '{% url "customer:cart_add" %}',
                    data:{
                        product_id: $('#add-cart').val(),
                        csrfmiddlewaretoken:'{{ csrf_token }}',
                        action:'post'
                    },
                    success: function(json){
                        console.log(json)
                    },
                    error: function(xhr, errmsg, err){

                    },


                });
            })
        </script>
    </body>
</html>